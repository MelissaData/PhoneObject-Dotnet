stages:
  - build
  
buildJob:
  stage: build
  image: mcr.microsoft.com/dotnet/core/sdk:3.1
  
  script:
    - curl -L -o "MelissaDataPhoneObjectWindowsNETExample/mdPhoneNET.dll" "https://releases.melissadata.net/Download/Interface/WINDOWS/NET/ANY/2021.01/mdPhoneNET.dll/?ID=$K8S_SECRET_LICENSE_1**$K8S_SECRET_LICENSE_2**$K8S_SECRET_LICENSE_3**"
    - dotnet publish -c Release -o Artifacts MelissaDataPhoneObjectWindowsNETExample/MelissaDataPhoneObjectWindowsNETExample.csproj

  artifacts:
    paths:
      - Artifacts/
    expire_in: 1 week
    
  tags:
    - docker-linux